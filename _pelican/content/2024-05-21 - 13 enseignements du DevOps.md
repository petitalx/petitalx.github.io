---
date: 2024-05-21T06:12:57.176Z
title: 13 Enseignements du DevOps
slug: devops-takeways
---

<p>Hello ! </p><p>Ces derniers mois, j'ai beaucoup lu sur le DevOps. </p><p>Dans l'<a href="https://100produits.substack.com/p/devops-101">√©dition pr√©c√©dente</a>, nous avons approch√© une outline de la discipline form√©e par les grands principes et techniques qui la composent. </p><p>Dans cette √©dition, j'ai regroup√© les r√©alisations que j'ai eues et les concepts qui m'ont le plus marqu√©. </p><p>Avant de plonger, voici un r√©capitulatif des livres que j'ai lu.</p><p></p><p>Inspiration et mindset :</p><ul><li><p>The Phoenix Project</p></li><li><p>The DevOps Handbook</p></li><li><p>The Goal - A process of ongoing improvement </p></li><li><p>Toyota Production System (TPS)</p></li><li><p>Lean Startup</p></li></ul><p></p><p>Technique et outils :</p><ul><li><p>Quick Start Kubernetes</p></li><li><p>Learn Kubernetes in a Month of Lunches</p></li><li><p>Automating DevOps With GitLab CICD Pipelines</p></li></ul><ul><li><p>OpenShift in Action (beaucoup de contenu d√©pr√©ci√©)</p></li></ul><p></p><p>Et voici les id√©es qui m‚Äôont le plus marqu√©. ü§∏</p><p></p><h1>Les concepts</h1><h2>Shit happens</h2><p>Le fait que des probl√®mes apparaissent est normal. </p><p>L'enjeux n'est pas de pr√©venir et d'anticiper tous les probl√®mes, mais que lorsqu'un probl√®me survient, il soit d√©tect√© rapidement, que l'on s'empresse de le r√©soudre, puis que des mesures soient prises afin que le cas n'apparaisse plus - ou √† minima qu'il soit document√© afin que si le probl√®me appara√Æt de nouveaux, il soit rapide √† r√©soudre.</p><p>Jusqu'√† pr√©sent, je voyais les probl√®mes comme des √©checs dans le processus de d√©veloppement. Maintenant, je consid√®re que les probl√®mes et <strong>les erreurs font partie du processus</strong>. Ils peuvent √™tre accueillis sans jugement et <strong>l'enjeu est de savoir comment tu y r√©ponds</strong>. </p><p>Lorsque l'on renverse la perspective, on se rend compte que les probl√®mes sont m√™me d'excellentes opportunit√©s d'apprendre. </p><p></p><h2>La roue des probl√®mes</h2><p>Les probl√®mes sont le point de d√©part du processus d'am√©lioration continue. </p><p>Am√©liorer un syst√®me consiste simplement √† :</p><p>1. Identifier les probl√®mes que l'on rencontre</p><p>2. Les prioriser</p><p>3. Les adresser un par un</p><p>4. Impl√©menter / diffuser la solution</p><p></p><p>Parmi les outils √† notre disposition pour identifier les probl√®mes dans le cycle de d√©veloppement, on retrouve : </p><ul><li><p>le daily, les r√©trospectives, les 1:1, les pre-mortems et les post mortems : pour identifier au plus t√¥t les probl√®mes humains ainsi que les blocages et les probl√®mes d'organisation</p></li><li><p>la t√©l√©m√©trie et les outils de monitoring pour identifier les probl√®mes en production</p></li><li><p>les outils d'int√©gration continue (tests, analyseurs statiques) pour identifier les probl√®mes dans le code que l'on s'appr√™te √† int√©grer dans la codebase.</p></li><li><p>l'√©tat d'esprit <em>fail fast</em> qui consiste √† faire exploser les probl√®mes rapidement afin de r√©duire la distance entre la d√©tonation et la source du probl√®me</p></li></ul><p>Pour les prioriser les probl√®mes identifi√©s, on peut : </p><ul><li><p>tenir √† jour une liste des probl√®mes qu‚Äôon rencontre</p></li><li><p>utiliser des outils comme StepSize pour suivre les zones de code √† refactorer</p></li></ul><p>Pour les adresser et r√©ussir √† avancer, avoir un mindset d'exp√©rimentation aide. Parfois il faut payer pour voir. Lorsque Netflix a produit sa premi√®re s√©rie, ils pensaient que cela n'allait pas marcher. Ils ont quand m√™me mis le paquet, pour voir, et l'exp√©rimentation c'est av√©r√© un succ√®s. Quand, on en est toujours au m√™me point six mois apr√®s avoir identifi√© un probl√®me, notre syst√®me d'am√©lioration est cass√©.</p><p>Pour partager les enseignements au niveau de l'√©quipe et de l'entreprise, il est int√©ressant de documenter l'erreur et la solution dans un syst√®me de gestion des connaissances accessible √† tous comme GitLab, Confluence, Notion. </p><p></p><h2>Mean time to recover (MTTR)</h2><p>Le Mean Time To Recover mesure le temps moyen que met un syst√®me √† revenir √† la normale apr√®s l'apparition d'un probl√®me. C'est une m√©trique cl√© chez les Top performeurs. Lorsqu'il se compte en secondes, en minutes, en heures, il est un indicateur de bonne performance et de r√©activit√©. Lorsqu'il se compte en jours, en semaines et en mois, il laisse supposer de profonds probl√®mes d'organisation.</p><p></p><div class="captioned-image-container"><img src="images/6ba21eaa-b3f3-4ed3-8e37-6b83642d49b2_900x1288.png"/><p style="text-align: center; font-style: italic; font-size: 0.8em;">Mr Culbuto a un tr√®s bon MTTR. On peut l‚Äôincliner et il revient vite √† la normale. Be a culbuto.</p></div><p></p><h2>Le co√ªt du retard √† d√©tecter et du report de correction</h2><p>Le co√ªt d'un probl√®me est proportionnel √† sa dur√©e d'existence.</p><p>On s'accorde souvent sur le fait que plus un probl√®me est d√©tect√© tardivement, plus son co√ªt est √©lev√©. Un bug d√©tect√© dans la cha√Æne d'int√©gration continue n'impacte personne et est rapide √† r√©soudre car le contexte est encore frais. S'il est d√©tect√© en production par les utilisateurs, il a un impact n√©gatif sur leur exp√©rience, sur l'image qu'ils se font du service et il est plus cher √† r√©soudre puisqu'il faut en plus g√©rer les √©ventuels d√©g√¢ts qui ont √©t√© caus√©s par le probl√®me.</p><div class="captioned-image-container"><img src="images/a1a1dd4d-e923-4633-a6e5-44bfc5bfe73f_600x332.png"/><p style="text-align: center; font-style: italic; font-size: 0.8em;">Plus un probl√®me est d√©tect√© tardivement, plus son co√ªt de r√©solution est √©lev√©.</p></div><p>Mais d√©tecter un probl√®me rapidement ne fait pas tout. Il faut ensuite l'adresser. Tant qu'il n'est pas adress√©, il reste dans un coin de ta t√™te. Il se rappelle √† toi chaque dans le backlog. Il encombre le work-in-progress. Il devient un cailloux dans la chaussure avec lequel on s'habitue √† marcher. Une charge mentale quoi.</p><p></p><p>L'enjeu ici est donc </p><ol><li><p>de d√©tecter les probl√®mes au plus t√¥t, puis </p></li><li><p>de les r√©soudre au plus vite.</p></li></ol><p></p><p>Jump into action.</p><p></p><h2>Les kaizen blitzes</h2><p>Un Kaizen Blitz est une p√©riode ou l'√©quipe met en pause de d√©veloppement de nouvelles fonctionnalit√©s pour r√©gler un probl√®me qu'elle rencontre. </p><p>On peut voir cela comme : </p><ul><li><p>un sprint de refactoring</p></li><li><p>un hackathon d'am√©lioration continue</p></li><li><p>un grand coup de m√©nage avec un tour de lave-vaisselle</p></li></ul><p></p><p>Voici quelques exemples de Kaizen Blitz : </p><ul><li><p>Le Christmas Refactoring chez Agicap. Apr√®s l'arriv√©e de Thomas Pierrain chez Agicap, les √©quipes ont mis en pause le d√©veloppement de nouvelles features pendant 3 semaines au moment de f√™tes de No√´l afin de se concentrer sur des t√¢ches de refactoring et d'am√©lioration du code existant. </p></li><li><p>L'exp√©rimentation Operation Inversion chez LinkedIn o√π les √©quipes ont mis en pause le d√©veloppement de nouvelles features pendants plusieurs mois afin de concentrer leur √©nergie sur l'am√©lioration du pipeline de d√©ploiement et la r√©duction de la Dette technique. </p></li></ul><p></p><div class="captioned-image-container"><img src="images/87838d11-be9d-4b63-990b-5e7392f3e195_300x185.jpeg"/><p style="text-align: center; font-style: italic; font-size: 0.8em;">Logo d‚Äôune marque de tablettes de lave-vaisselle</p></div><p></p><h2>Le Chaos Monkey</h2><p>Il n'y a rien de pire qu'un syst√®me de s√©curit√© qui ne fonctionne pas : tu te comportes comme si tu √©tais en s√©curit√©, mais tu es sans filet.</p><p>Une bonne fa√ßon de tester la r√©sistance du syst√®me face aux probl√®mes que l'on s'attend √† subir est d'en injecter soi-m√™me r√©guli√®rement. Une fois le syst√®me test√© dans des conditions favorables, il est int√©ressant de s'int√©resser aux sc√©narios en conditions d'intemp√©ries. </p><p>Le Chaos Monkey de Netflix est une impl√©mentation extr√™me. </p><div class="captioned-image-container"><img src="images/632653fa-fe9a-44f1-918b-eaae445e3b13_3425x3425.jpeg"/><p style="text-align: center; font-style: italic; font-size: 0.8em;">Une illustration du Chaos Monkey de Netflix par sketchplanations.com</p></div><p>Afin de v√©rifier que le syst√®me a bien le niveau de r√©silience attendu, il tue volontairement des processus et des serveurs de fa√ßon al√©atoire. De cette fa√ßon, les m√©canismes de r√©silience sont r√©guli√®rement sollicit√©s et l'on est serein sur le fait qu'ils fonctionnent bien. </p><p></p><p>Dans sa d√©marche d‚Äôanti-fragilit√©, Netflix va m√™me encore plus loin avec toute une arm√©e de monkeys :</p><div class="captioned-image-container"><img src="images/d1c1378b-0800-453e-be4c-8acc1169d972_1400x788.jpeg"/><p style="text-align: center; font-style: italic; font-size: 0.8em;">Une illustration des diff√©rents daemons qui op√®rent sur le cloud de Netflix par @geosley</p></div><p></p><h2>Le Flow</h2><p>Le flow d√©signe le flux des items dans la cha√Æne de valeur. </p><p>Tout l'enjeu du Lean Manufacturing, du DevOps et de l'agilit√© est de fluidifier le flux des op√©rations pour permettre au syst√®me de r√©agir rapidement aux demandes du march√©, tout en r√©duisant les d√©penses op√©rationnelles et en travaillant avec juste ce qu'il faut d'inventaire.</p><p>Le flow est au centre de l'attention.</p><p></p><h2>Le Work In Progress</h2><p>Le work-in-progress (WIP) est la somme des t√¢ches d√©marr√©es et non termin√©es. </p><p>Comme l'explique Erik (le mentor) dans The Phoenix Project :</p><blockquote><p>Work-in-progress is the silent killer</p></blockquote><p>Lorsque l'on se retrouve bloqu√© sur une t√¢che, nous avons tendance √† d√©marrer de nouvelles t√¢ches plus faciles en attendant de trouver une solution pour la premi√®re. On cherche √† "parall√©liser". Rapidement, les t√¢ches ouvertes et non compl√©t√©es s'accumulent. Cette accumulation de t√¢che d√©marr√©e ne cr√©e aucune valeur et repr√©sente une charge mentale qui grossit et p√®se de plus en plus sur l'√©quipe.</p><p>Limiter le WIP a deux grands b√©n√©fices. D'abord, il permet de r√©duire l'encombrement dans la cha√Æne de cr√©ation de valeur, et ainsi d'am√©liorer le temps √©coul√© entre une id√©e et sa r√©alisation (lead time). Ensuite, il accentue la g√™ne caus√©e par les bloqueurs, ce qui les rend d'autant plus urgents √† r√©soudre.</p><p>Taiichi Ohno, un des p√®res fondateurs du Lean Manufacturing, compare la pratique de limiter le WIP √† <em>drainer la rivi√®re de l'inventaire afin de r√©v√©ler tous les probl√®mes qui entravent un flux rapide</em>.</p><div class="captioned-image-container"><img src="images/18f68670-783d-43a4-b1d6-88c5f9bc66ed_1304x822.png"/><p style="text-align: center; font-style: italic; font-size: 0.8em;">Limiter le WIP r√©v√®le les probl√®mes</p></div><p></p><p>Limiter le WIP permet d‚Äôidentifier les probl√®mes. </p><p>Cela nous permet ensuite de les adresser et de gagner en efficacit√©.</p><p></p><h2>Bien vivre dans un syst√®me complexe</h2><p>Il est possible de travailler dans un syst√®me complexe de fa√ßon s√ªre en suivant les principes suivants : </p><ul><li><p>Transparence op√©rationnelle : les probl√®mes sont r√©v√©l√©s</p></li><li><p>Les probl√®mes sont r√©solus afin de gagner en connaissance</p></li><li><p>Les connaissances cr√©es localement sont diffus√©es et exploit√©es globalement</p></li><li><p>Les pratiques sont perp√©tu√©es par le management</p></li></ul><p></p><h2>La Loi de Gall</h2><p>La loi de Gall est une r√®gle empirique √©nonc√©e par John Gall dans _Systemantics: How Systems Really Work and How They Fail_ : </p><blockquote><p>A complex system that works is invariably found to have evolved from a simple system that worked. A complex system designed from scratch never works and cannot be patched up to make it work. You have to start over with a working simple system. </p></blockquote><p>Dis autrement : si tu veux un syst√®me complexe qui fonctionne, construit un syst√®me simple qui fonctionne puis am√©liore-le de fa√ßon it√©rative. Pars de sp√©cifications minimales, et affine. N‚Äôessaie pas de r√©soudre tous les probl√®mes d‚Äôun coup. Identifie les besoins essentiels, r√©duit le focus, et d√©marre avec un MVP.</p><div class="captioned-image-container"><img src="images/8fdcc5aa-7297-41fc-83b0-7f0a0201a16a_1848x814.png"/><p style="text-align: center; font-style: italic; font-size: 0.8em;"></p></div><p></p><h2>Knowledge holders</h2><p>Un d√©tenteur de connaissance est une personne qui accumule du savoir sur le fonctionnement de l'entreprise mais le garde pour lui, de fa√ßon intentionnelle ou non. </p><p>Ce type de profil se trouve r√©guli√®rement dans une posture de H√©ro car il est la personne qui te sort de l'orni√®re. Il est hautement valoris√© par l'entreprise, mais il est aussi un de ses points faibles.</p><p>D'abord parce que ces personnes ne sont <strong>pas scalables</strong>. Lorsque les projets grandissent, elles deviennent un bottleneck car tout le monde d√©pend de ces personnes pour avancer.</p><p>Ensuite, elles pr√©sentent un risque pour l'entreprise, si elles gagnent au Loto.</p><p>Les knowledge holders sont souvent des personnes talentueuses techniquement. Pour capitaliser sur leur connaissance, il est int√©ressant </p><ol><li><p>de tracer toutes les demandes qui leur parviennent puis</p></li><li><p>documenter les actions qu'elles r√©alisent r√©guli√®rement.</p></li></ol><p></p><h2>Les 4 formes de travail dans l'IT</h2><p>On distingue 4 formes de travail dans l'IT</p><ul><li><p>les projets business √† destination des clients externes</p></li><li><p>les projets internes √† l'entreprise</p></li><li><p>les changements et √©volutions</p></li><li><p>le travail non planifi√© (‚ö†Ô∏è)</p></li></ul><p>Le travail non planifi√© est la mati√®re noire du syst√®me : il est invisible, mais bien pr√©sent. Et <strong>il emp√™che de travail qui a √©t√© planifi√© d'√™tre ex√©cut√©</strong>. Il est souvent constitu√© d'incidents de production et de travail urgent mais non important. </p><div class="captioned-image-container"><img src="images/4933d54a-4e4f-4fc1-87a2-c4e77d152af0_1611x973.png"/><p style="text-align: center; font-style: italic; font-size: 0.8em;"></p></div><p>Lorsque l‚Äôon se retrouve √† travailler dans la r√©action, aka mode Pompier, les t√¢ches sont domin√©es par du travail non planifi√©.</p><p>Le travail non planifi√© est √† traquer et √† √©liminer. La meilleure fa√ßon de le suivre est de rendre le travail visible gr√¢ce √† des outils de management visuel comme kanban ou scrum board.</p><p></p><h2>L‚ÄôAm√©lioration Continue</h2><p>Am√©liorer ce que tu fais est plus important que ce que tu fais : peu importe d'o√π tu pars. D√®s lors que tu es capable de t'am√©liorer, tu es capable de faire mieux. Et plus vite tu t'am√©liores, plus vite tu d√©passes ton niveau initial.</p><p>L'am√©lioration continue consiste √† am√©liorer les processus et le travail quotidien. C'est un processus et une habitude qui se manifeste par des activit√©s comme les Kaizen Blitzes, les post-mortems, les r√©trospectives.</p><p>Le plus gros frein √† l‚Äôam√©lioration continue est l‚Äô√©tat d‚Äôesprit. Si on part du principe qu‚Äôune piste de solution √† un probl√®me ne va pas marcher, et que l‚Äôon pr√©f√®re rester dans le confort de faire comme on a toujours fait, on stagne. On ne r√©sout pas les probl√®mes que l‚Äôon rencontre. Et par inertie, la situation tend m√™me √† se d√©t√©riorer.</p><div class="captioned-image-container"><img src="images/b593ab27-8d3e-4bb2-aae5-3c4e82246793_1644x744.png"/><p style="text-align: center; font-style: italic; font-size: 0.8em;"></p></div><p>Une approche constructive consiste √† exp√©rimenter de fa√ßon structur√©e en explicitant les hypoth√®ses que l‚Äôon cherche √† v√©rifier, en donnant un cadre temporel √† l‚Äôexp√©rimentation, et en mesurant les r√©sultats √† l‚Äôissue de l‚Äôexp√©rimentation. </p><p>Certaines vont am√©liorer les choses. D‚Äôautres vont les empirer. </p><p>Il s‚Äôagit alors d‚Äôabsorber ce qui fonctionne pour toi, et de rejeter ce qui ne l‚Äôest pas.</p><p></p><h1>Conclusion</h1><p>Voil√† pour aujourd'hui. </p><p>J‚Äôesp√®re que tu auras trouv√© ici certaines id√©es qui te seront utiles au quotidien :)</p><p><br/>√Ä la prochaine !</p><p>Alex</p><p></p><p></p>